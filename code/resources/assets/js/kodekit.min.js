var globalCacheForjQueryReplacement=window.jQuery;if(window.jQuery=window.kQuery,function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(kQuery)}((function(t){var e,i=0,o=Array.prototype.slice;t.cleanData=(e=t.cleanData,function(i){var o,n,a;for(a=0;null!=(n=i[a]);a++)try{(o=t._data(n,"events"))&&o.remove&&t(n).triggerHandler("remove")}catch(t){}e(i)}),t.widget=function(e,i,o){var n,a,s,r,l={},c=e.split(".")[0];return e=e.split(".")[1],n=c+"-"+e,o||(o=i,i=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[c]=t[c]||{},a=t[c][e],s=t[c][e]=function(t,e){if(!this._createWidget)return new s(t,e);arguments.length&&this._createWidget(t,e)},t.extend(s,a,{version:o.version,_proto:t.extend({},o),_childConstructors:[]}),(r=new i).options=t.widget.extend({},r.options),t.each(o,(function(e,o){var n,a;t.isFunction(o)?l[e]=(n=function(){return i.prototype[e].apply(this,arguments)},a=function(t){return i.prototype[e].apply(this,t)},function(){var t,e=this._super,i=this._superApply;return this._super=n,this._superApply=a,t=o.apply(this,arguments),this._super=e,this._superApply=i,t}):l[e]=o})),s.prototype=t.widget.extend(r,{widgetEventPrefix:a&&r.widgetEventPrefix||e},l,{constructor:s,namespace:c,widgetName:e,widgetFullName:n}),a?(t.each(a._childConstructors,(function(e,i){var o=i.prototype;t.widget(o.namespace+"."+o.widgetName,s,i._proto)})),delete a._childConstructors):i._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,n,a=o.call(arguments,1),s=0,r=a.length;s<r;s++)for(i in a[s])n=a[s][i],a[s].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(a){var s="string"==typeof a,r=o.call(arguments,1),l=this;return s?this.each((function(){var i,o=t.data(this,n);return"instance"===a?(l=o,!1):o?t.isFunction(o[a])&&"_"!==a.charAt(0)?(i=o[a].apply(o,r))!==o&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+a+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+a+"'")})):(r.length&&(a=t.widget.extend.apply(null,[a].concat(r))),this.each((function(){var e=t.data(this,n);e?(e.option(a||{}),e._init&&e._init()):t.data(this,n,new i(a,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,o){o=t(o||this.defaultElement||this)[0],this.element=t(o),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),o!==this&&(t.data(o,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===o&&this.destroy()}}),this.document=t(o.style?o.ownerDocument:o.document||o),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var o,n,a,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},o=e.split("."),e=o.shift(),o.length){for(n=s[e]=t.widget.extend({},this.options[e]),a=0;a<o.length-1;a++)n[o[a]]=n[o[a]]||{},n=n[o[a]];if(e=o.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,o){var n,a=this;"boolean"!=typeof e&&(o=i,i=e,e=!1),o?(i=n=t(i),this.bindings=this.bindings.add(i)):(o=i,i=this.element,n=this.widget()),t.each(o,(function(o,s){function r(){if(e||!0!==a.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?a[s]:s).apply(a,arguments)}"string"!=typeof s&&(r.guid=s.guid=s.guid||r.guid||t.guid++);var l=o.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+a.eventNamespace,d=l[2];d?n.delegate(d,c,r):i.bind(c,r)}))},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout((function(){return("string"==typeof t?i[t]:t).apply(i,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,o){var n,a,s=this.options[e];if(o=o||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,o),!(t.isFunction(s)&&!1===s.apply(this.element[0],[i].concat(o))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,i){t.Widget.prototype["_"+e]=function(o,n,a){"string"==typeof n&&(n={effect:n});var s,r=n?!0===n||"number"==typeof n?i:n.effect||i:e;"number"==typeof(n=n||{})&&(n={duration:n}),s=!t.isEmptyObject(n),n.complete=a,n.delay&&o.delay(n.delay),s&&t.effects&&t.effects.effect[r]?o[e](n):r!==e&&o[r]?o[r](n.duration,n.easing,a):o.queue((function(i){t(this)[e](),a&&a.call(o[0]),i()}))}}));t.widget})),function(t,e,i){i.widget("koowa.scopebar",{widgetEventPrefix:"scopebar:",options:{template:function(){}},_create:function(){var t=i(".k-js-filter-prototype");this.template=t.clone(),this.template.removeClass(".k-js-filter-prototype"),t.remove(),this._addEvents();var e=i(".k-js-filter-container");i(".k-js-filters div[data-filter]").each((function(o,n){var a=t.clone();(n=i(this)).addClass("k-js-dropdown-content k-scopebar-dropdown__body__content"),a.find(".k-js-dropdown-body").prepend(n),a.find(".k-js-dropdown-title").html(n.data("title"));var s=a.find(".k-js-dropdown-button"),r=s.data("tooltip-title");r&&(r=r.replace("%s",n.data("title")),s.ktooltip({container:".k-ui-container",delay:{show:500,hide:50},title:r}));var l=a.find(".k-js-dropdown-label"),c=n.data("label"),d=n.data("count");d&&d>0&&(c=d),c?l.attr("data-has-label","").html(c):l.removeAttr("data-has-label").hide(),n.show(),a.show(),e.append(a);var h=e.find(".k-js-dropdown-label[data-has-label]").length,u=i(".k-js-filter-count");h?u.show():u.hide()}))},_addEvents:function(){var t=this,o=function(){return i(".k-js-dropdown").hasClass("k-is-active")};i(e).keyup((function(e){if(39==e.keyCode&&o()){var n=i(".k-js-dropdown.k-is-active").next().find(i(".k-js-dropdown-button"));n.hasClass("k-js-dropdown-button")&&(t.closeDropdown(),t.openDropdown(n))}if(37==e.keyCode&&o()){var a=i(".k-js-dropdown.k-is-active").prev().find(i(".k-js-dropdown-button"));a.hasClass("k-js-dropdown-button")&&(t.closeDropdown(),t.openDropdown(a))}27==e.keyCode&&o()&&t.closeDropdown()})),i("html").click((function(e){var o=i(e.target),n=-1!==e.target.className.search("select2-"),a=o.parents(".datepicker-dropdown").length>0||o.is("td")&&o.hasClass("day");n||a||0!==o.parents(".k-js-filter-container").length||t.closeDropdown()})),this.element.on("click","*",(function(e){var o=i(e.target);o.hasClass("k-js-dropdown-button")||(o=o.parents(".k-js-dropdown-button")),0!==o.length&&(o.parent().hasClass("k-is-active")?t.closeDropdown():t.openDropdown(o),e.stopPropagation())})),this.element.on("mouseenter mouseleave","*",(function(e){var n=i(e.target);n.hasClass("k-js-dropdown-button")||(n=n.parents(".k-js-dropdown-button")),0!==n.length&&o()&&!n.parent().hasClass("k-is-active")&&(t.closeDropdown(),t.openDropdown(n),n.focus())})),submitForm=function(e,o){o.find("select").each((function(t,o){var n=i(o).val();if(!n||""===n||"object"==typeof n&&1===n.length&&""===n[0]){var a=i(o).attr("name");a=a.replace("[]",""),i(o).removeAttr("name"),i(e).append('<input type="hidden" name="'+a+'" value="" />')}})),t._trigger("beforeSubmitForm",null,{form:e,box:o}),e.submit()},this.element.on("click",".k-js-clear-filter",(function(t){t.preventDefault();var e=i(t.target).parents(".k-js-dropdown");e.find(":input").not(":button, :submit, :reset, :hidden").removeAttr("checked").removeAttr("selected").not(":checkbox, :radio").val("").filter("select").trigger("change"),e.find(".k-js-scopebar-clearable").val("");var o=t.target.form;o&&submitForm(o,e)})).on("click",".k-js-apply-filter",(function(t){t.preventDefault();var e=t.target.form,o=i(t.target).parents(".k-js-dropdown");e&&submitForm(e,o)}))},openDropdown:function(t){var e=t.parent();this.closeDropdown(),e.addClass("k-is-active");var i=e.find("select");1===i.length&&i.data("select2"),t.focus()},closeDropdown:function(){var t=i(".k-js-dropdown.k-is-active"),e=t.find("select");t.removeClass("k-is-active"),e.data("select2")&&e.select2("close")}})}(window,document,kQuery),!Koowa)var Koowa={};Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,o=function(){},n=function(){return i.apply(this instanceof o&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,n.prototype=new o,n});var klass=function(){var t=this,e=t.klass,i=/xyz/.test((function(){xyz}))?/\bsupr\b/:/.*/,o="prototype";function n(t){return l.call(a(t)?t:function(){},t,1)}function a(t){return"function"==typeof t}function s(t,e,i){return function(){var n=this.supr;this.supr=i[o][t];var a={}.fabricatedUndefined,s=a;try{s=e.apply(this,arguments)}finally{this.supr=n}return s}}function r(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(t[r]=a(e[r])&&a(n[o][r])&&i.test(e[r])?s(r,e[r],n):e[r])}function l(t,e){function i(){}i[o]=this[o];var n=this,s=new i,l=a(t),c=l?t:this,d=l?{}:t;function h(){this.initialize?this.initialize.apply(this,arguments):(e||l&&n.apply(this,arguments),c.apply(this,arguments))}return h.methods=function(t){return r(s,t,n),h[o]=s,this},h.methods.call(h,d).prototype.constructor=h,h.extend=arguments.callee,h[o].implement=h.statics=function(t,e){var i;return r(this,t="string"==typeof t?((i={})[t]=e,i):t,n),this},h}return n.noConflict=function(){return t.klass=e,this},n}();if(function(t){Koowa.Class=klass({options:{},getOptions:function(){return{}},initialize:function(){this.setOptions(this.getOptions())},setOptions:function(e){return"object"==typeof e&&(this.options=t.extend(!0,{},this.options,e)),this}})}(window.kQuery),void 0===Koowa&&(Koowa={}),function(t){Koowa.Grid=Koowa.Class.extend({initialize:function(e){var i=this;this.element=t(e),this.form=this.element.is("form")?this.element:this.element.closest("form"),this.checkall=this.element.find(".k-js-grid-checkall"),this.checkboxes=this.element.find(".k-js-grid-checkbox").filter((function(e,i){return!t(i).prop("disabled")})),this.checkboxes.length||this.checkall.prop("disabled",!0),this.checkall.on("change.koowa",(function(e,o){o||i.checkAll(t(this).prop("checked"))})),this.checkboxes.on("change.koowa",(function(t,e){e||i.setCheckAll()})),this.setScopebar(),this.setTableHeaders(),this.setTableRows()},setScopebar:function(){var e=this;t(".k-js-filter-container",this.form).scopebar({beforeSubmitForm:function(){e.uncheckAll()}})},setTableHeaders:function(){this.form.on("click.koowa","th",(function(e){var i=t(e.target),o=i.find("a");if(o.length)o.prop("href")?window.location.href=o.prop("href"):o.trigger("click",e);else{var n=i.find(".k-js-grid-checkall");n.length&&n.prop("checked",!n.is(":checked")).trigger("change")}}))},setTableRows:function(){this.form.on("click.koowa","tr",(function(e){var i=t(e.target);if(!i.is("[type=radio], [type=checkbox], a[href], span.footable-toggle")){var o=i.is("tr")?i:i.parents("tr"),n=o.find(".k-js-grid-checkbox");1!=o.data("readonly")&&n.length&&n.length&&n.prop("checked",!n.prop("checked")).trigger("change")}})),t(".k-js-grid-checkbox").on("change.koowa",(function(e){var i,o=t(e.target),n=o.parents("tr"),a=n.parent();o.is("[type=radio]")&&a.find(".k-is-selected").removeClass("k-is-selected"),t(this).prop("checked")?n.addClass("k-is-selected"):n.removeClass("k-is-selected"),(i=a.find(".k-is-selected").length)>1?a.addClass("k-has-selected-multiple").removeClass("k-has-selected-single"):1===i?a.removeClass("k-has-selected-multiple").addClass("k-has-selected-single"):a.removeClass("k-has-selected-multiple").removeClass("k-has-selected-single")})).trigger("change",!0)},checkAll:function(e){var i=this.checkboxes.filter((function(i,o){return t(o).prop("checked")!==e}));this.checkboxes.prop("checked",e),i.trigger("change",!0)},uncheckAll:function(){this.checkAll(!1)},setCheckAll:function(){var e=this.checkboxes.filter((function(e,i){return!1!==t(i).prop("checked")})).length;this.checkall.prop("checked",this.checkboxes.length===e),this.checkall.trigger("change",!0)}}),Koowa.Grid.getAllSelected=function(e){return t(".k-js-grid-checkbox:checked",e)},Koowa.Grid.getIdQuery=function(t){return decodeURIComponent(this.getAllSelected(t).serialize())},t((function(){t(".k-js-grid").each((function(e,i){new Koowa.Grid(t(i))}))}))}(window.kQuery),!Koowa)Koowa={};!function(t){t((function(){t(".k-js-submittable").on("click.koowa",(function(e){e.preventDefault(),new Koowa.Form(t(e.target).data("config")).submit()})),t(".k-js-grid-controller").each((function(){new Koowa.Controller.Grid({form:this})})),t(".k-js-form-controller").each((function(){new Koowa.Controller.Form({form:this})}))})),Koowa.Translator||(Koowa.Translator=Koowa.Class.extend({translations:{},translate:function(t,e){if(void 0!==this.translations[t.toLowerCase()]&&(t=this.translations[t.toLowerCase()]),"object"==typeof e&&null!==e)for(var i in e)if(e.hasOwnProperty(i)){var o="{"+i+"}".replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");t=t.replace(new RegExp(o,"g"),e[i])}return t},loadTranslations:function(t){for(var e in t)t.hasOwnProperty(e)&&(this.translations[e.toLowerCase()]=t[e]);return this}}),Koowa.translator=new Koowa.Translator,Koowa.translate=Koowa.translator.translate.bind(Koowa.translator)),Koowa.Form=Koowa.Class.extend({initialize:function(e){this.config=e,this.config.element?this.form=t(document[this.config.element]):(this.form=t("<form/>",{name:"dynamicform",method:this.config.method||"POST",action:this.config.url}),t(document.body).append(this.form))},addField:function(e,i){if(t.isArray(i)){var o,n=this;"[]"===e.substr(-2)&&(e=e.substr(0,e.length-2)),t.each(i,(function(t,i){o=e+"["+t+"]",n.addField(o,i)}))}else{t("<input/>",{name:e,value:i,type:"hidden"}).appendTo(this.form)}return this},submit:function(){var e=this;this.config.params&&t.each(this.config.params,(function(t,i){e.addField(t,i)})),this.form.submit()}}),Koowa.Controller=Koowa.Class.extend({form:null,toolbar:null,buttons:null,token_name:null,token_value:null,getOptions:function(){return t.extend(this.supr(),{toolbar:".k-toolbar",url:window.location.href})},initialize:function(e){var i=this;this.supr(),this.setOptions(e),this.form=t(this.options.form),this.setOptions(this.form.data()),this.form.prop("action")&&(this.options.url=this.form.attr("action")),this.toolbar=t(this.options.toolbar),this.form.data("controller",this),this.on("execute",(function(){return i.execute.apply(i,arguments)})),this.token_name=this.form.data("token-name"),this.token_value=this.form.data("token-value"),this.toolbar&&this.setToolbar()},setToolbar:function(){var e=this;this.buttons=this.toolbar.find(".toolbar[data-action]"),this.buttons.each((function(){var i=t(this),o={},n=i.data(),a=n.data;n.eventAdded||("object"!=typeof a&&(a=a&&"string"===t.type(a)?t.parseJSON(a):{}),e.token_name&&(a[e.token_name]=e.token_value),o.validate="novalidate"!==n.novalidate,o.data=a,o.action=n.action,i.on("click.koowa",(function(t){if(t.preventDefault(),o.trigger=i,!i.hasClass("k-is-disabled")){var a=i.data("prompt");if(a&&!confirm(a))return;e.setOptions(n),e.trigger("execute",[o])}})),i.data("event-added",!0))}))},execute:function(t,e){if(e.action[0]){var i=e.action[0].toUpperCase()+e.action.substr(1),o="_action"+i;void 0===e.validate&&(e.validate=!0),this.trigger("before"+i,e)&&(this[o=this[o]?o:"_actionDefault"].call(this,e),this.trigger("after"+i,e))}return this},on:function(t,e){return this.form.on("k:"+t,e)},off:function(t,e){return this.form.off("k:"+t,e)},trigger:function(e,i){var o=t.Event("k:"+e);return this.form.trigger(o,i),!o.isDefaultPrevented()},checkValidity:function(){var t;this.buttons&&(this.trigger("beforeValidate"),t=this.buttons.filter('[data-novalidate!="novalidate"]'),this.trigger("validate")?t.removeClass("k-is-disabled"):t.addClass("k-is-disabled"),this.trigger("afterValidate"))}}),Koowa.Controller.Grid=Koowa.Controller.extend({getOptions:function(){return t.extend(this.supr(),{inputs:".k-js-grid-checkbox, .k-js-grid-checkall",ajaxify:!1})},initialize:function(t){var e=this;this.supr(t),this.grid=new Koowa.Grid(this.form),this.on("validate",this.validate),this.options.inputs&&this.buttons&&(this.checkValidity(),this.form.find(this.options.inputs).on("change.koowa",(function(t,i){i||e.checkValidity()}))),this.token_name=this.form.data("token-name"),this.token_value=this.form.data("token-value"),this.setTableRows(),this.form.find("thead select, tfoot select, .k-pagination select").on("change.koowa",(function(){e.grid.uncheckAll(),e.options.ajaxify&&(event.preventDefault(),e.options.transport(e.options.url,e.form.serialize(),"get")),e.form.submit()}))},setTableRows:function(){var e=this,i=this.form.find("tbody tr .k-js-grid-checkbox");this.form.find("tbody tr").each((function(){var o=t(this),n=o.find(".k-js-grid-checkbox");1!=o.data("readonly")&&n.length&&o.find("[data-action]").each((function(){var o=t(this),a={},s=o.data("data"),r=o.data(),l=o.data("event-type");"object"!=typeof s&&(s=s&&"string"===t.type(s)?t.parseJSON(s):{}),e.token_name&&(s[e.token_name]=e.token_value),l||(l=o.is('[type="radio"],[type="checkbox"],select')?"change":"click"),a.validate="novalidate"!==r.novalidate,a.data=s,a.action=r.action,o.on(l+".k-ui-namespace",(function(){i.prop("checked",""),n.prop("checked","checked"),i.trigger("change",!0),a.trigger=o,e.setOptions(r),e.trigger("execute",[a])}))}))}))},validate:function(){return Koowa.Grid.getIdQuery()||!1},_actionDelete:function(t){return t.method="delete",this._actionDefault(t)},_actionDefault:function(e){var i,o=Koowa.Grid.getIdQuery(),n=this.options.url.match(/\?/)?"&":"?";if(e.validate&&!this.trigger("validate",[e]))return!1;i={method:"post",url:this.options.url+(o?n+o:""),params:t.extend({},{_action:e.action},e.data)},e.method&&(i.params._method=e.method),new Koowa.Form(i).submit()}}),Koowa.Controller.Form=Koowa.Controller.extend({_actionDelete:function(t){return t.method="delete",this._actionDefault(t)},_actionDefault:function(e){if(e.validate&&!this.trigger("validate",[e]))return!1;this.form.append(t("<input/>",{name:"_action",type:"hidden",value:e.action})),e.method&&this.form.append(t("<input/>",{name:"_method",type:"hidden",value:e.method})),this.trigger("submit",[e]),this.form.submit()}})}(window.kQuery),window.jQuery=globalCacheForjQueryReplacement,globalCacheForjQueryReplacement=void 0;
if(typeof Kodekit === 'undefined') { var Kodekit = Koowa; }
